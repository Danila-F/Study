<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<link rel="stylesheet" href="../../../../Оболочка/css/style3.css" type="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<META HTTP-EQUIV="Content-Language" CONTENT="ru">
<title>ЭРУД по дисциплине "Программирование проблемно-ориентированных вычислительных средств реального времени" &#8250; Практика &#8250; Лабораторная работа "Программирование синусоидальных сигналов методом двойного угла"</title>
<base target="_top">
</HEAD>
<BODY>
<table width="100%" border="0" cellpadding="0" cellspacing="3" background="../../../../Оболочка/images/background.jpg">
  <tr> 
    <td width="13%" rowspan=3 align="center" ><img src="../../../../Оболочка/images/logo_new.jpg" width=117 align="middle"></td>
  <tr> 
    <td width="70%" colspan=2 align="center" valign="middle"> <H1 align="center" >Электронный 
        ресурс по учебной дисциплине<BR>
        "Программирование проблемно-ориентированных вычислительных средств реального времени"<BR> 
        для специальности: </H1>
	  1-40 02 02 "Электронные вычислительные средства"
    </td>
    <td width="12%" rowspan=3 align="center" >&nbsp;</td>
  <Tr>
    <td align=center colspan=2><var class="normal"><A HREF="../../../../index.htm">Оглавление</A> | <A HREF="../../../../Программа/ППОВСРВ_программа_2017.htm" TITLE="Программа курса (Откроется в новом окне)">Программа</A> | <a href="../../../../Теория/theory.htm">Теория</a> | <A HREF="../../../../Практика/practice.htm">Практика</A> | <A HREF="../../../../Контроль_знаний/test.htm">Контроль знаний</A> | <A HREF="../../../../Об авторах/author.htm">Об авторах</A></var></var> </td>
  <tr>
</table>

<!--start-->
<div class="mainBlock">
	<div class="mainTitle" align="center"><a name="sub0"></a>ЛАБОРАТОРНАЯ РАБОТА № 2</div>
	<div class="mainTitle" align="center">ПРОГРАММИРОВАНИЕ СИНУСОИДАЛЬНЫХ СИГНАЛОВ МЕТОДОМ ДВОЙНОГО УГЛА</div>
	<div class="mainSubTitle"><a name="sub1"></a>2.1. ЦЕЛЬ РАБОТЫ</div>
	<div class="mainSubContent">
	Знакомство с различными алгоритмами формирования синусоидальных сигналов, разработка и отладка программы генератора синусоидальных сигналов на основе рекуррентно-аналитического метода двойного угла на ассемблере процессора TMS320VC5402 для лабораторного макета TMS320VC5402 DSP Starter Kit (DSK).
	</div>
	<div class="mainSubTitle"><a name="sub2"></a>2.2. ТЕОРЕТИЧЕСКИЕ СВЕДЕНИЯ</div>
	<div class="mainSubTitle1">2.2.1. Формулы двойного угла</div>
	<div class="mainSubContent">
	  <p>Другой аналитический метод основан на формулах  двойного угла:</p>
      <table border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="50" valign="top">&nbsp;</td>
          <td width="700" valign="center" align="center"><br>
			sin(2&alpha;) = 2&middot; sin(&alpha;)&middot;cos(&alpha;),<br>
			cos(2&alpha;) = cos<sup>2</sup>(&alpha;)&ndash;sin<sup>2</sup>(&alpha;)=1&shy;&ndash;2&middot; sin<sup>2</sup>(&alpha;)=2&middot; cos<sup>2</sup>(&alpha;)&ndash;1.<br><br></td>
          <td width="50" valign="center" align="right">(2.1)</td>
        </tr>
      </table>
      <p>Для вычисления косинуса целесообразно использовать  второе выражение, т.к. первое требует возведения в квадрат двух значений, а  третье &ndash; дает не точный результат из-за того, что косинус малого угла близок к  единице.<br>
        Данный метод позволяет вычислить синус и косинус  любого угла, но требует больше затрат для вычисления последовательных отсчетов  синуса и косинуса.<br>
        Суть метода заключается в вычислении очередного  значения аргумента синуса (косинуса) a(n)=a(n-1)+s(k),  где s(k) &ndash; шаг приращения  аргумента (угла) для k-й  гармоники. При этом данный шаг вычисляется по аналогичной формуле s(k)=s(k-1)+a, где a=2P/N  &ndash; приращение аргумента первой гармоники.<br>
        Для вычисления функции аргумент <strong>a(n)</strong> делится на два m  раз до тех пор, пока не будет выполняться с заданной точностью соотношение sin(&alpha;)&raquo;&alpha;,  где &alpha;=a/2<sup>m</sup>. <br>
        После чего,  применив m раз вышеприведенные  формулы (2.1) и использовав в качестве первого приближения sin(&alpha;)&nbsp;=&nbsp;&alpha; и cos<sup>2</sup>(&alpha;)&nbsp;=&nbsp;1&nbsp;&ndash;&nbsp;sin<sup>2</sup>(&alpha;)&nbsp;=&nbsp;1&nbsp;&ndash;&nbsp;&alpha;<sup>2</sup>,  получим значения синуса и косинуса угла <strong>a(n)</strong>.<br>
        Например, для угла 0.0625  рад (0.0625&acute;32768=2048=800h) точное значение синуса равно 0.0624593 (2046.7&raquo;7FFh),  а косинуса &ndash; 0.9980475 (32704&raquo;7FC0h); для угла 0.03125  рад (1024=400h) значение синуса  равно 0.0312449 (1023.8&raquo;400h),  а косинуса &ndash; 0.9995117 (32752&raquo;7FF0h), и для угла 0.015625  рад (512=200h) значение синуса  равно 0.0156244 (511.9&raquo;200h),  а косинуса &ndash; 0.9998779 (32764&raquo;7FFCh).</p>
      <p>Поскольку точные значения косинуса малого угла  отличаются от единицы, то для повышения точности расчета следовало бы для его  первого приближения находить значение из выражения cos<sup>2</sup>(&alpha;)&nbsp;=&nbsp;1&nbsp;&ndash;&nbsp;sin<sup>2</sup>(&alpha;).  Но так как вычисление квадратного корня трудоемкая операция, то с достаточно  высокой точностью можно получить значение косинуса по формуле cos(&alpha;)&nbsp;=&nbsp;1&nbsp;&ndash;&nbsp;&alpha;<sup>2</sup>/2, что для малых углов дает очень хорошее  приближение. По этой формуле для трех приведенных выше углов получим следующие  значения: 0.9980469 (32704&raquo;7FC0h), 0.9995117 (32752&raquo;7FF0h) и 0.9998779 (32764&raquo;7FFCh). Из приведенных выше расчетов видно, что с  точностью &frac12; младшего разряда мы получим результат при углах, меньших 0.03125 рад или <strong>1,8&nbsp;&deg;</strong> (1024=400h).<br>
        Для нахождения m  и для деления на 2<sup>m</sup>  можно использовать специализированные команды цифрового процессора сигналов (ЦПС)  EXP и<strong> </strong>NORM. Так, например,  если порог равен 400h, а аргумент  равен 0.09473 рад (0C20h), то его необходимо разделить на 2 два раза (m=2),  чтобы получить значение 308h,  меньшее порога. Исходное число после загрузки в старшую часть 40-разрядного  аккумулятор содержит слева 3  незначащих двоичных нуля (000C200000h),  а максимальное число, меньшее порога, &ndash; 5  (0003FF0000h), т.к. незначащие  нули считаются без 8-ми защитных разрядов. Выполнив команду EXP, мы получим в регистре T значение 3,  и, вычтя его из 5, мы получим 2, что равно m, для организации цикла итерационных вычислений по  формуле (2.1) нужно m-1  (т.е. 4-Т), которое загружается во  вспомогательный регистр. А для деления на 2<sup>m</sup>  нужно число -m, которое получается  вычитанием из регистра T значения 5, и, использовав команду NORM, получим в старшей части  аккумулятора значение 0C20h,  деленное на 2<sup>m</sup>,  т.е. 308h. Если в результате  выполнения команды EXP в регистре T получается значение &sup3;5, то значит аргумент меньше порога и итерации  выполнять не нужно, а в качестве синуса берется sin(&alpha;)&nbsp;=&nbsp;&alpha;.</p>
</div>
	<div class="mainSubTitle1">2.2.2. Замечания по программированию</div>
	<div class="mainSubContent">
	  <p>При  программировании синусоиды данным методом необходимо учесть следующие  замечания:</p>
      <ul>
        <li>поскольку аргумент и шаг могут быть &gt;1  (максимальное значение аргумента 6.28=2P), то  для исключения переполнения необходимо промасштабировать все переменные  (разделить на 8);</li>
        <li>значение m-1=7-Т  (у порога 8 нулей), а для команды NORM  из регистра T нужно вычитать по  прежнему 5, а не 8, чтобы восстановить аргумент (/2<sup>m</sup> и *8);</li>
        <li>вычисления  выполняются без коррекции переполнения (увеличение аргумента), а для коррекции  переполнения (при записи) используется бит SST  в PMST;</li>
        <li>необходима  проверка для малых углов (меньше порога), иначе получится отрицательное число  переполнений.</li>
      </ul>
  </div>
	<div class="mainSubTitle1">2.2.3. Алгоритм формирования последовательности синусоид</div>
	<div class="mainSubContent">
	  <p>Схема  алгоритма формирования последовательности синусоид с возрастающей частотой методом  двойного угла представлена на рис.&nbsp;2.1 и отличается от схемы алгоритма из первой  лабораторной работы только формированием начального значения аргумента для k-й гармоники.<br>
<h3 align="center"><img src="../../../images/lb_ris0201.gif" alt="Рис.2.1" width="441" height="817"></h3>
<h3 align="center">Рисунок 2.1 &ndash; Схема алгоритма формирования последовательности синусоид</h3>
	</div>
	<div class="mainSubTitle"><a name="sub3"></a>2.3. ПОРЯДОК ВЫПОЛНЕНИЯ РАБОТЫ</div>
	<div class="mainSubContent">
	<ol>
		<li>Изучить теоретические сведения по теме лабораторной работы <a href="#sub2">(подразд.&nbsp;2.2)</a>.</li>
		<li>Получить у преподавателя задание для выполнения практической части работы.</li>
		<li>Согласно заданию написать, оттранслировать и выполнить программу.</li>
		<li>Продемонстрировать результат трансляции и работы программы преподавателю.</li>
		<li>Оформить и защитить отчет по лабораторной работе.</li>
	</ol>
	</div>
	<div class="mainSubTitle"><a name="sub4"></a>2.4. СОДЕРЖАНИЕ ОТЧЕТА</div>
	<div class="mainSubContent">
	<ol>
		<li>Цель работы и исходные данные.</li>
		<li>Описание алгоритма работы программы.</li>
		<li>Листинг программы с комментариями.</li>
		<li>Выводы по работе.</li>
	</ol>
	</div>
</div>
<div align="center">
	<input type="button" class="buttonManage" value="&nbsp;&nbspНазад&nbsp;&nbsp" onClick="document.location.href ='../LZ1/lab_1.html'" />
	<input type="button" class="buttonManage" value="Перечень тем лабораторных работ" onClick="document.location.href ='../lb.html'" />
	<input type="button" class="buttonManage" value="&nbspВперед&nbsp" onClick="document.location.href ='../LZ3/lab_3.html'" />
	<div class="mainSubContent"><br></div>
</div>
<!--end-->
<table width="100%" border="0" cellpadding="0" cellspacing="3" bordercolor="#316AC5" background="../../../../Оболочка/images/background.jpg">
	<Tr><td align=center colspan=2><var class="normal"><A HREF="../../../../index.htm">Оглавление</A> | <A HREF="../../../../Программа/ППОВСРВ_программа_2017.htm" TITLE="Программа курса (Откроется в новом окне)">Программа</A> | <a href="../../../../Теория/theory.htm">Теория</a> | <A HREF="../../../../Практика/practice.htm">Практика</A> | <A HREF="../../../../Контроль_знаний/test.htm">Контроль знаний</A> | <A HREF="../../../../Об авторах/author.htm">Об авторах</A></var></var> </td>
    <Tr><td align=center><var><b>(С) БГУИР</b></var></td></tr>
</table>
</BODY></HTML>