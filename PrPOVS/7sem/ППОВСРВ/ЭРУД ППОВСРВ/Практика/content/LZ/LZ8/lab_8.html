<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<link rel="stylesheet" href="../../../../Оболочка/css/style3.css" type="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<META HTTP-EQUIV="Content-Language" CONTENT="ru">
<title>ЭРУД по дисциплине "Программирование проблемно-ориентированных вычислительных средств реального времени" &#8250; Практика &#8250; Лабораторная работа "Измерение амплитудно-частотной характеристики цифрового рекурсивного фильтра"</title>
<base target="_top">
</HEAD>
<BODY>
<table width="100%" border="0" cellpadding="0" cellspacing="3" background="../../../../Оболочка/images/background.jpg">
  <tr> 
    <td width="13%" rowspan=3 align="center" ><img src="../../../../Оболочка/images/logo_new.jpg" width=117 align="middle"></td>
  <tr> 
    <td width="70%" colspan=2 align="center" valign="middle"> <H1 align="center" >Электронный 
        ресурс по учебной дисциплине<BR>
        "Программирование проблемно-ориентированных вычислительных средств реального времени"<BR> 
        для специальности: </H1>
	  1-40 02 02 "Электронные вычислительные средства"
    </td>
    <td width="12%" rowspan=3 align="center" >&nbsp;</td>
  <Tr>
    <td align=center colspan=2><var class="normal"><A HREF="../../../../index.htm">Оглавление</A> | <A HREF="../../../../Программа/ППОВСРВ_программа_2017.htm" TITLE="Программа курса (Откроется в новом окне)">Программа</A> | <a href="../../../../Теория/theory.htm">Теория</a> | <A HREF="../../../../Практика/practice.htm">Практика</A> | <A HREF="../../../../Контроль_знаний/test.htm">Контроль знаний</A> | <A HREF="../../../../Об авторах/author.htm">Об авторах</A></var></var> </td>
  <tr>
</table>

<!--start-->
<div class="mainBlock">
	<div class="mainTitle" align="center"><a name="sub0"></a>ЛАБОРАТОРНАЯ РАБОТА № 8</div>
	<div class="mainTitle" align="center">ИЗМЕРЕНИЕ АМПЛИТУДНО-ЧАСТОТНОЙ ХАРАКТЕРИСТИКИ ЦИФРОВОГО РЕКУРСИВНОГО ФИЛЬТРА</div>
	<div class="mainSubTitle"><a name="sub1"></a>8.1. ЦЕЛЬ РАБОТЫ</div>
	<div class="mainSubContent">
	Разработка алгоритма и написание программы для измерения амплитудно-частотной характеристики (АЧХ) цифрового рекурсивного фильтра с использованием БПФ на ассемблере процессора TMS320VC5402 и её отладка на лабораторном макете TMS320VC5402 DSP Starter Kit (DSK).
	</div>
	<div class="mainSubTitle"><a name="sub2"></a>8.2. ТЕОРЕТИЧЕСКИЕ СВЕДЕНИЯ</div>
	<div class="mainSubTitle1">8.2.1. Алгоритм измерения амплитудно-частотной характеристики фильтра</div>
	<div class="mainSubContent">
	  <p>Для измерения АЧХ фильтра может быть использован один  из генераторов синусоидальных сигналов, разработанный в [1]. На вход фильтра подается  сигнал, представляющий собой сумму синусоид с возрастающей частотой (от  минимальной до частоты Найквиста). При этом для исключения резкого скачка  сигнала необходимо суммировать синусоиды с различной фазой. Наиболее простой  способ &ndash; сдвигать очередной синус на 1&ndash;2 отсчета.<br>
	    По истечении времени, необходимого на установку  сигнала на выходе фильтра (не менее двух периодов первой гармоники), следует  измерить мощность сигнала на каждой частоте, используя программу БПФ из  лабораторной работы №6 или №7. Мощность сигнала на соответствующей частоте  определяется следующим выражением:</p>
      <table border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="50" valign="top">&nbsp;</td>
          <td width="700" valign="center" align="center"><img src="../../../images/lb_for0801.gif" alt="Фор.8.1" width="204" height="30"><br></td>
          <td width="50" valign="center" align="right">(8.1)</td>
        </tr>
      </table>
      <p>где <em>Е</em>(<em>k</em>) &ndash; мощность сигнала <em>k</em>-й гармоники; Re(<em>k</em>) &ndash; действительная часть изображения  Фурье (после БПФ) <em>k</em>-й гармоники; Im(<em>k</em>) &ndash; мнимая часть изображения  Фурье (после БПФ) <em>k</em>-й гармоники; <em>k</em> &ndash; номер  гармоники от 0 до частоты Найквиста.<br>
        Для нахождения АЧХ фильтра необходимо найти  отношение амплитуды синусоидального сигнала на выходе фильтра к амплитуде на  входе фильтра на каждой частоте. Зная мощность сигнала, можно найти амплитуду  выходного сигнала из следующего соотношения:</p>
      <table border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="50" valign="top">&nbsp;</td>
          <td width="700" valign="center" align="center"><img src="../../../images/lb_for0802.gif" alt="Фор.8.2" width="74" height="57"><br></td>
          <td width="50" valign="center" align="right">(8.2)</td>
        </tr>
      </table>
      <p>где <em>Е</em> &ndash; мощность сигнала, <em>А</em> &ndash; амплитуда синусоидального сигнала.</p>
Если взять для исключения переполнения амплитуды синусоидальных составляющих входного сигнала, равные <strong>2<sup>-<em>М</em></sup></strong>, можно  получить значение АЧХ фильтра, сдвинув амплитуды выходного сигнала на <strong><em>М</em></strong> разрядов влево.
  </div>
	<div class="mainSubTitle1">8.2.2. Программа измерения амплитудно-частотной характеристики рекурсивного фильтра</div>
	<div class="mainSubContent">
	  <p>Для  измерения АЧХ фильтра используются программы генераторов синусоидальных  сигналов из лабораторной работы №1 или №2 и программа цифрового рекурсивного  фильтра из лабораторной работы №3.<br>
	    После обнуления  буфера входного сигнала необходимо сформировать <strong><em>N</em>&nbsp;+&nbsp;2</strong> отсчетов синуса  первой гармоники и добавить их в буфер, затем сформировать и прибавить отсчеты  второй и всех последующих гармоник. Полученный таким образом полигармонический  сигнал необходимо подать на вход фильтра в течение не менее <strong>2<em>N</em></strong> тактов и сохранить сигнал с  выхода фильтра в выходном буфере.<br>
	    После этого  необходимо выполнить <em>N</em>-точечное БПФ над второй половиной  выходного буфера и, используя выражения (8.1) и (8.2), определить амплитуды всех гармоник на выходе  фильтра.<br>
	    Записав все  полученные амплитуды в буфер АЧХ и отобразив этот буфер в графическом виде,  увидим на экране монитора АЧХ рассматриваемого фильтра.<br>
	    Для  вычисления квадратного корня <strong><em>X</em></strong> из некоторого числа <strong><em>Y</em></strong> можно воспользоваться  следующим алгоритмом:</p>
      <ol>
        <li>Взять в качестве первого приближения квадратного корня <strong><em>X</em><sub>1</sub> = 2<sup>-1</sup></strong>.</li>
        <li>Возвести текущее приближение квадратного корня <strong><em>X<sub>i</sub></em></strong> в квадрат.</li>
        <li>Сравнить полученное значение <strong><em>X<sub>i</sub></em><sup>2</sup></strong> со значением <strong><em>Y</em></strong>.</li>
        <li>Если значение <strong><em>X<sub>i</sub></em><sup>2</sup></strong> <strong>&gt;</strong> <strong><em>Y</em></strong>, то вычесть из <strong><em>X<sub>i</sub></em></strong> значение <strong>2<sup>-<em>i</em></sup></strong>.</li>
        <li>Вычислить очередную степень двойки <strong>2<sup>-(<em>i</em> + 1)</sup></strong>.</li>
        <li>Получить очередное приближение квадратного корня <strong><em>X<sub>i</sub></em><sub> + 1</sub></strong> , прибавив к <strong><em>X<sub>i</sub></em></strong> &nbsp;значение <strong>2<sup>-(<em>i</em> + 1)</sup></strong>.</li>
        <li>Повторить процедуру начиная с п.&nbsp;2 еще четырнадцать  раз для получения всех пятнадцати разрядов значения квадратного корня <strong><em>X</em></strong>.</li>
      </ol>
      <p>Данный  алгоритм может быть легко реализован с использованием арифметического  устройства вспомогательных регистров и соответствующих способов модификации  косвенного адреса.<br>
        Для этого  необходимо во вспомогательный регистр, например <strong>AR1</strong>, поместить первое приближение  квадратного корня <strong>2<sup>-1</sup></strong>. Это же значение  помещается и во вспомогательный регистр <strong>AR0</strong> в качестве текущей степени двойки.<br>
        Для  реализации операции вычитания из <strong><em>X<sub>i</sub></em></strong> значения <strong>2<sup>-<em>i</em></sup></strong> (п.&nbsp;4) воспользуемся  способом модификации косвенного адреса <strong>*AR1-0</strong>. Получение очередной степени двойки <strong>2<sup>-(<em>i</em> + 1)</sup></strong> (п.&nbsp;5)  выполняется способом модификации косвенного адреса <strong>*AR0+0B</strong> (двоично-инверсная адресация или  сложение с обратным переносом). Реализация операции сложения <strong><em>X<sub>i</sub></em></strong> со значением <strong>2<sup>-(<em>i</em> + 1)</sup></strong> (п.&nbsp;6) выполняется способом модификации косвенного  адреса <strong>*AR1+0</strong>.<br>
        Общая схема  алгоритма программы измерения АЧХ фильтра представлена на рис.&nbsp;8.1.</p>
<h3 align="center"><img src="../../../images/lb_ris0801.gif" alt="Рис.8.1" width="442" height="882"></h3>
<h3 align="center">Рисунок 8.1 &ndash; Схема алгоритма измерения АЧХ фильтра</h3>
      <p>При обработке реальных физических сигналов они  заносятся в действительные части комплексных чисел временного процесса, а  мнимые части при этом обнуляются. Но с помощью одной программы БПФ можно обработать  сразу два действительных сигнала. Для этого необходимо использовать эти два  действительных сигнала для задания действительной и мнимой частей временного  процесса. После вычисления БПФ необходимо произвести разделение полученного  изображения комплексного процесса на два изображения действительных процессов в  соответствии с формулами</p>
      <table border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="50" valign="top">&nbsp;</td>
          <td width="700" valign="center" align="center"><img src="../../../images/lb_for0803.gif" alt="Фор.8.3" width="411" height="193"><br></td>
          <td width="50" valign="center" align="right">(8.3)</td>
        </tr>
      </table>
      <p>где <strong><em>X</em><sub>1</sub></strong>, <strong><em>X</em><sub>2</sub></strong> &ndash; изображения  первого и второго действительных процессов; <strong><em>U</em></strong> &ndash;  изображение комплексного процесса, полученное с помощью БПФ.<br>
        Преобразовав выражения (8.3) для расчета <strong><em>U</em>(<em>k</em>)</strong> по изображениям двух действительных процессов <strong><em>X</em><sub>1</sub></strong>, <strong><em>X</em><sub>2</sub></strong>, можно вычислить  обратное БПФ и получить временные реализации двух независимых действительных  сигналов.</p>
	</div>
	<div class="mainSubTitle"><a name="sub3"></a>8.3. ПОРЯДОК ВЫПОЛНЕНИЯ РАБОТЫ</div>
	<div class="mainSubContent">
	<ol>
		<li>Изучить теоретические сведения по теме лабораторной работы <a href="#sub2">(подразд.&nbsp;8.2)</a>.</li>
		<li>Получить у преподавателя задание для выполнения практической части работы.</li>
		<li>Согласно заданию написать, оттранслировать и выполнить программу.</li>
		<li>Продемонстрировать результат трансляции и работы программы преподавателю.</li>
		<li>Оформить и защитить отчет по лабораторной работе.</li>
	</ol>
	</div>
	<div class="mainSubTitle"><a name="sub4"></a>8.4. СОДЕРЖАНИЕ ОТЧЕТА</div>
	<div class="mainSubContent">
	<ol>
		<li>Цель работы и исходные данные.</li>
		<li>Описание алгоритма работы программы.</li>
		<li>Листинг программы с комментариями.</li>
		<li>Выводы по работе.</li>
	</ol>
	</div>
</div>
<div align="center">
	<input type="button" class="buttonManage" value="&nbsp;&nbspНазад&nbsp;&nbsp" onClick="document.location.href ='../LZ7/lab_7.html'" />
	<input type="button" class="buttonManage" value="Перечень тем лабораторных работ" onClick="document.location.href ='../lb.html'" />
	<input type="button" class="buttonManage" value="В начало" onClick="document.location.href ='../LZ1/lab_1.html'" />
	<div class="mainSubContent"><br></div>
</div>
<!--end-->
<table width="100%" border="0" cellpadding="0" cellspacing="3" bordercolor="#316AC5" background="../../../../Оболочка/images/background.jpg">
	<Tr><td align=center colspan=2><var class="normal"><A HREF="../../../../index.htm">Оглавление</A> | <A HREF="../../../../Программа/ППОВСРВ_программа_2017.htm" TITLE="Программа курса (Откроется в новом окне)">Программа</A> | <a href="../../../../Теория/theory.htm">Теория</a> | <A HREF="../../../../Практика/practice.htm">Практика</A> | <A HREF="../../../../Контроль_знаний/test.htm">Контроль знаний</A> | <A HREF="../../../../Об авторах/author.htm">Об авторах</A></var></var> </td>
    <Tr><td align=center><var><b>(С) БГУИР</b></var></td></tr>
</table>
</BODY></HTML>